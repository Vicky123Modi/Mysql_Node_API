{"version":3,"sources":["app.js"],"names":["app","server","http","createServer","startServer","angularFullstack","listen","config","port","ip","message","get","console","log","GygLog","logInit","writeLog","eLogLevel","debug","sqldb","sequelize","sync","then","catch","err","exports","module"],"mappings":";;AAIA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AAEA;;;;AACA;;;;AACA;;;;;;AAGA;AAfA;;;;AAgBA,IAAIA,MAAM,wBAAV;AACA,IAAIC,SAASC,eAAKC,YAAL,CAAkBH,GAAlB,CAAb;;AAEA,uBAAcA,GAAd;AACA,sBAAeA,GAAf;;AAEA;AACA,SAASI,WAAT,GAAuB;AACnBJ,QAAIK,gBAAJ,GAAuBJ,OAAOK,MAAP,CAAcC,sBAAOC,IAArB,EAA2BD,sBAAOE,EAAlC,EAAsC,YAAY;AACrE,YAAIC,UAAU,iCAAiCH,sBAAOC,IAAxC,GAA+C,OAA/C,GAAyDR,IAAIW,GAAJ,CAAQ,KAAR,CAAzD,GAA0E,OAAxF;AACAC,gBAAQC,GAAR,CAAYH,OAAZ;AACAI,yBAAOC,OAAP;AACAD,yBAAOE,QAAP,CAAgBF,iBAAOG,SAAP,CAAiBC,KAAjC,EAAwC,IAAxC,EAA8CR,OAA9C;AACH,KALsB,CAAvB;AAMH;;AAEDS,gBAAMC,SAAN,CAAgBC,IAAhB;AACI;AADJ,CAEKC,IAFL,CAEUlB,WAFV,EAGKmB,KAHL,CAGWC,OAAO;AACVZ,YAAQC,GAAR,CAAY,yCAAZ,EAAuDW,GAAvD;AACH,CALL;;AAOA;AACAC,UAAUC,OAAOD,OAAP,GAAiBzB,GAA3B","file":"app.js","sourcesContent":["/**\n * Main application file\n */\n\nimport express from 'express';\nimport sqldb from './sqldb';\nimport config from './config/environment';\nimport GygLog from './gyglog/GygLog';\nimport http from 'http';\n\nimport expressConfig from './config/express';\nimport registerRoutes from './routes';\nimport seedDatabaseIfNeeded from './config/seed';\n\n\n// Setup server\nvar app = express();\nvar server = http.createServer(app);\n\nexpressConfig(app);\nregisterRoutes(app);\n\n// Start server\nfunction startServer() {\n    app.angularFullstack = server.listen(config.port, config.ip, function () {\n        let message = 'Express server listening on ' + config.port + ', in ' + app.get('env') + ' mode';\n        console.log(message);\n        GygLog.logInit();\n        GygLog.writeLog(GygLog.eLogLevel.debug, null, message);\n    });\n}\n\nsqldb.sequelize.sync()\n    //.then(seedDatabaseIfNeeded)\n    .then(startServer)\n    .catch(err => {\n        console.log('Server failed to start due to error: %s', err);\n    });\n\n// Expose app\nexports = module.exports = app;\n"]}